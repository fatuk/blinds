{"version":3,"sources":["app.js","controllers/cart.controller.js","controllers/feedback.controller.js","controllers/main.controller.js","controllers/order.controller.js","controllers/product.controller.js","controllers/search.controller.js","services/cart.service.js","services/config.service.js","services/dialog.service.js"],"names":["angular","module","constant","controller","CartService","console","log","$rootScope","$scope","DialogService","ConfigService","self","isHover","currentTexture","state","complete","loading","hours","i","openHour","closeHour","push","id","label","toString","minutes","$watch","texture","fromJson","hoverIt","bValue","order","phone","name","hour","min","addProductToCart","product","model","price","addProduct","removeProduct","key","cartItems","length","dropdownVisible","openSearch","modalOpen","openOrder","openFeedback","openCallme","closeDialogs","showDropdown","hideDropdown","callmeSubmit","params","extend","context","getProducts","factory","service","API_PATH","$http","$q","$interpolate","localStorageService","products","JSON","parse","get","oneClickProduct","getOneClick","addOneClick","submitOrder","submitCallMe","submitFeedback","clone","_","cloneDeep","set","stringify","idx","splice","formatProduct","allowHeight","dimensions","width","height","withCornice","url","orderPath","defer","data","text","reduce","result","time","post","success","response","resolve","err","$log","promise","callMe","feedbackPath","config","featuredProductPath","productListPath","productHomeListPath","productSeeAlsoListPath","productPagePath","questionPath","articlePath","catalogPath","catalogRootPath","constructorTexturesPath","texturesPath","reviewsProductPath","reviewsArticlePath","newProductReviewPath","newArticleReviewPath","newReviewPath","newsPath","searchPath","minPrice","maxPrice","serverTime","structurePath","homeArticleSlug","homeArticlePath","pastProductsCount","window","appLicationConfig","opened","image","setState","newState","$broadcast","getState","setImage","picture","getImage"],"mappings":";;AAAA,CAAC,YAAM;AACNA,SAAQC,MAAR,CAAe,KAAf,EAAsB,CACrB,oBADqB,EAErB,aAFqB,CAAtB,EAIEC,QAJF,CAIW,UAJX,EAIuB,OAJvB;AAKA,CAND;;;ACAA,CAAC,YAAM;AACHF,YAAQC,MAAR,CAAe,KAAf,EACKE,UADL,CACgB,UADhB,EAC4BA,UAD5B;;AAGA,aAASA,UAAT,CAAoBC,WAApB,EAAiC;AAC7BC,gBAAQC,GAAR,CAAY,WAAZ;AACH;AACJ,CAPD;;;ACAA,CAAC,YAAM;AACHN,YAAQC,MAAR,CAAe,KAAf,EACKE,UADL,CACgB,cADhB,EACgCA,UADhC;;AAGA,aAASA,UAAT,GAAsB;AAClBE,gBAAQC,GAAR,CAAY,eAAZ;AACH;AACJ,CAPD;;;ACAA,CAAC,YAAM;AACHN,YAAQC,MAAR,CAAe,KAAf,EACKE,UADL,CACgB,UADhB,EAC4BA,UAD5B;;AAGA,aAASA,UAAT,CAAoBI,UAApB,EAAgCC,MAAhC,EAAwCJ,WAAxC,EAAqDK,aAArD,EAAoEC,aAApE,EAAmF;AAC/EL,gBAAQC,GAAR,CAAY,WAAZ;AACA,YAAMK,OAAO,IAAb;AACAA,aAAKC,OAAL,GAAe,EAAf;AACAD,aAAKE,cAAL,GAAsB,EAAtB;AACAL,eAAOM,KAAP,GAAe;AACXC,sBAAU,KADC;AAEXC,qBAAS;AAFE,SAAf;AAIAR,eAAOS,KAAP,GAAe,EAAf;AACA,aAAK,IAAIC,IAAIR,cAAcS,QAA3B,EAAqCD,IAAIR,cAAcU,SAAvD,EAAkEF,GAAlE,EAAuE;AACnEV,mBAAOS,KAAP,CAAaI,IAAb,CAAkB;AACdC,oBAAIJ,CADU;AAEdK,uBAAO,CAAEL,IAAE,EAAH,GAAU,MAAIA,CAAd,GAAmBA,EAAEM,QAAF,EAApB,IAAoC;AAF7B,aAAlB;AAIH;AACDhB,eAAOiB,OAAP,GAAiB,EAAjB;AACA,aAAK,IAAIP,KAAI,CAAb,EAAgBA,KAAI,EAApB,EAAwBA,MAAG,EAA3B,EAA+B;AAC3BV,mBAAOiB,OAAP,CAAeJ,IAAf,CAAoB;AAChBC,oBAAIJ,EADY;AAEhBK,uBAAO,CAAEL,KAAE,EAAH,GAAU,MAAIA,EAAd,GAAmBA,GAAEM,QAAF,EAApB,IAAoC;AAF3B,aAApB;AAIH;;AAEDhB,eAAOkB,MAAP,CAAc,YAAM;AAChB,mBAAOf,KAAKE,cAAZ;AACH,SAFD,EAEG,YAAM;AACLF,iBAAKgB,OAAL,GAAe3B,QAAQ4B,QAAR,CAAiBjB,KAAKE,cAAtB,CAAf;AACH,SAJD,EAIG,IAJH;;AAMAF,aAAKkB,OAAL,GAAe,UAASP,EAAT,EAAaQ,MAAb,EAAoB;AACxCnB,iBAAKC,OAAL,CAAaU,EAAb,IAAmBQ,MAAnB;AACM,SAFD;;AAIAtB,eAAOuB,KAAP,GAAe;AACXC,mBAAO,EADI;AAEXC,kBAAM,EAFK;AAGXC,kBAAM1B,OAAOS,KAAP,CAAa,CAAb,CAHK;AAIXkB,iBAAK3B,OAAOiB,OAAP,CAAe,CAAf;AAJM,SAAf;;AAOAd,aAAKyB,gBAAL,GAAwB,mBAAW;AAC/B;AACAC,sBAAUrC,QAAQ4B,QAAR,CAAiBS,OAAjB,CAAV;AACAA,oBAAQV,OAAR,GAAkB3B,QAAQ4B,QAAR,CAAiBjB,KAAKE,cAAtB,EAAsCyB,KAAxD;AACAD,oBAAQE,KAAR,GAAgBvC,QAAQ4B,QAAR,CAAiBjB,KAAKE,cAAtB,EAAsC0B,KAAtD;AACAlC,oBAAQC,GAAR,CAAY+B,OAAZ;AACAjC,wBAAYoC,UAAZ,CAAuBH,OAAvB;AACH,SAPD;;AASA1B,aAAK8B,aAAL,GAAqB,eAAO;AACxBpC,oBAAQC,GAAR,CAAY,eAAZ;AACAF,wBAAYqC,aAAZ,CAA0BC,GAA1B;AACA,gBAAI/B,KAAKgC,SAAL,CAAeC,MAAf,KAA0B,CAA9B,EAAiC;AAC7BjC,qBAAKkC,eAAL,GAAuB,KAAvB;AACH;AACJ,SAND;;AAQAlC,aAAKmC,UAAL,GAAkB,YAAM;AACpBnC,iBAAK,gBAAL,IAAyB,IAAzB;AACAJ,uBAAWwC,SAAX,GAAuB,IAAvB;AACH,SAHD;;AAKApC,aAAKqC,SAAL,GAAiB,YAAM;AACnBrC,iBAAK,eAAL,IAAwB,IAAxB;AACAJ,uBAAWwC,SAAX,GAAuB,IAAvB;AACH,SAHD;;AAKApC,aAAKsC,YAAL,GAAoB,YAAM;AACtBtC,iBAAK,kBAAL,IAA2B,IAA3B;AACAJ,uBAAWwC,SAAX,GAAuB,IAAvB;AACH,SAHD;;AAKApC,aAAKuC,UAAL,GAAkB,YAAM;AACpB1C,mBAAOM,KAAP,CAAaC,QAAb,GAAwB,KAAxB;AACAP,mBAAOM,KAAP,CAAaE,OAAb,GAAuB,KAAvB;AACAR,mBAAOuB,KAAP,GAAe;AACXC,uBAAO,EADI;AAEXC,sBAAM,EAFK;AAGXC,sBAAM1B,OAAOS,KAAP,CAAa,CAAb,CAHK;AAIXkB,qBAAK3B,OAAOiB,OAAP,CAAe,CAAf;AAJM,aAAf;AAMAd,iBAAK,gBAAL,IAAyB,IAAzB;AACAJ,uBAAWwC,SAAX,GAAuB,IAAvB;AACH,SAXD;;AAaApC,aAAKwC,YAAL,GAAoB,YAAM;AACtBxC,iBAAK,gBAAL,IAAyB,KAAzB;AACAA,iBAAK,kBAAL,IAA2B,KAA3B;AACAA,iBAAK,gBAAL,IAAyB,KAAzB;AACAA,iBAAK,eAAL,IAAwB,KAAxB;AACAJ,uBAAWwC,SAAX,GAAuB,KAAvB;AACH,SAND;;AAQApC,aAAKyC,YAAL,GAAoB,YAAM;AAC/BzC,iBAAKkC,eAAL,GAAuB,IAAvB;AACA,SAFK;;AAINlC,aAAK0C,YAAL,GAAoB,YAAM;AACzB1C,iBAAKkC,eAAL,GAAuB,KAAvB;AACM,SAFP;;AAIMlC,aAAK2C,YAAL,GAAoB,YAAM;AACtB,gBAAIC,SAAS,EAAb;AACA/C,mBAAOM,KAAP,CAAaE,OAAb,GAAuB,IAAvB;AACAhB,oBAAQwD,MAAR,CAAeD,MAAf,EAAuB;AACnBE,yBAASjD,OAAOiD;AADG,aAAvB,EAEGjD,OAAOuB,KAFV;;AAIA1B,oBAAQC,GAAR,CAAYE,OAAOuB,KAAnB;AACAvB,mBAAOM,KAAP,CAAaC,QAAb,GAAwB,IAAxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,SAlBD;;AAoBAJ,aAAKgC,SAAL,GAAiBvC,YAAYsD,WAAZ,EAAjB;AACH;AACJ,CAhID;;;ACAA,CAAC,YAAM;AACH1D,YAAQC,MAAR,CAAe,KAAf,EACKE,UADL,CACgB,WADhB,EAC6BA,UAD7B;;AAGA,aAASA,UAAT,GAAsB;AAClBE,gBAAQC,GAAR,CAAY,YAAZ;AACH;AACJ,CAPD;;;ACAA,CAAC,YAAM;AACHN,YAAQC,MAAR,CAAe,KAAf,EACKE,UADL,CACgB,aADhB,EAC+BA,UAD/B;;AAGA,aAASA,UAAT,GAAsB;AAClBE,gBAAQC,GAAR,CAAY,cAAZ;AACH;AACJ,CAPD;;;ACAA,CAAC,YAAM;AACHN,YAAQC,MAAR,CAAe,KAAf,EACKE,UADL,CACgB,YADhB,EAC8BA,UAD9B;;AAGA,aAASA,UAAT,GAAsB;AAClBE,gBAAQC,GAAR,CAAY,aAAZ;AACH;AACJ,CAPD;;;ACAA,CAAC,YAAM;AACH;;AACAN,YAAQC,MAAR,CAAe,KAAf,EACI0D,OADJ,CACY,aADZ,EAC2BC,OAD3B;;AAGA,aAASA,OAAT,CAAiBrD,UAAjB,EAA6BsD,QAA7B,EAAuCC,KAAvC,EAA8CC,EAA9C,EAAkDC,YAAlD,EAAgEC,mBAAhE,EAAqFvD,aAArF,EAAoG;AAChG,YAAIwD,WAAWC,KAAKC,KAAL,CAAWH,oBAAoBI,GAApB,CAAwB,eAAxB,CAAX,KAAwD,EAAvE;AACA,YAAIC,kBAAkB,EAAtB;AACA,YAAIV,UAAU;AACVpB,wBAAYA,UADF;AAEVC,2BAAeA,aAFL;AAGViB,yBAAaA,WAHH;AAIVa,yBAAaA,WAJH;AAKVC,yBAAaA,WALH;AAMVC,yBAAaA,WANH;AAOVC,0BAAcA,YAPJ;AAQVC,4BAAgBA;AARN,SAAd;AAUA,eAAOf,OAAP;;AAEA,iBAASpB,UAAT,CAAoBH,OAApB,EAA6B;AACzB,gBAAIuC,QAAQC,EAAEC,SAAF,CAAYzC,OAAZ,CAAZ;AACA6B,qBAAS7C,IAAT,CAAcuD,KAAd;AACAX,gCAAoBc,GAApB,CAAwB,eAAxB,EAAyCZ,KAAKa,SAAL,CAAed,QAAf,CAAzC;AACH;;AAED,iBAASzB,aAAT,CAAuBwC,GAAvB,EAA4B;AACxBf,qBAASgB,MAAT,CAAgBD,GAAhB,EAAqB,CAArB;AACAhB,gCAAoBc,GAApB,CAAwB,eAAxB,EAAyCZ,KAAKa,SAAL,CAAed,QAAf,CAAzC;AACH;;AAED,iBAASR,WAAT,GAAuB;AACnB,mBAAOQ,QAAP;AACH;;AAED,iBAASM,WAAT,CAAqBnC,OAArB,EAA8B;AAC1BiC,8BAAkBO,EAAEC,SAAF,CAAYzC,OAAZ,CAAlB;AACH;;AAED,iBAASkC,WAAT,GAAuB;AACnB,mBAAOD,eAAP;AACH;;AAID,iBAASa,aAAT,CAAuB9C,OAAvB,EAAgC;AAC5B,gBAAI,CAAC,CAACA,QAAQ+C,WAAV,IAAyB/C,QAAQgD,UAArC,EAAiD;AAC7C,uBAAOrB,aAAa,uBACf3B,QAAQV,OAAR,GAAkB,6BAAlB,GAAkD,GADnC,KAEd,CAAC,CAACU,QAAQgD,UAAR,CAAmBC,KAArB,IAA8B,CAAC,CAACjD,QAAQgD,UAAR,CAAmBE,MAApD,GACG,uEADH,GAC6E,EAH9D,KAIflD,QAAQmD,WAAR,GAAsB,iCAAtB,GAA0D,EAJ3C,CAAb,EAKL;AACEnD,6BAASA;AADX,iBALK,CAAP;AAQH,aATD,MASO,IAAI,CAACA,QAAQ+C,WAAT,IAAwB/C,QAAQgD,UAApC,EAAgD;AACnD,uBAAOrB,aAAa,uBACf3B,QAAQV,OAAR,GAAkB,6BAAlB,GAAkD,GADnC,KAEd,CAAC,CAACU,QAAQgD,UAAR,CAAmBC,KAAtB,GACG,oCADH,GAC0C,EAH3B,KAIfjD,QAAQmD,WAAR,GAAsB,iCAAtB,GAA0D,EAJ3C,CAAb,EAKL;AACEnD,6BAASA;AADX,iBALK,CAAP;AAQH,aATM,MASA;AACH,uBAAO2B,aAAa,uBACf3B,QAAQV,OAAR,GAAkB,6BAAlB,GAAkD,GADnC,KAEfU,QAAQmD,WAAR,GAAsB,iCAAtB,GAA0D,EAF3C,CAAb,EAGL;AACEnD,6BAASA;AADX,iBAHK,CAAP;AAMH;AAEJ;;AAED,iBAASoC,WAAT,CAAqBlB,MAArB,EAA6B;AACzB,gBAAIkC,MAAM5B,WAAWnD,cAAcgF,SAAnC;AACA,gBAAIC,QAAQ5B,GAAG4B,KAAH,EAAZ;AACA,gBAAIC,OAAO,EAAX;AACA,gBAAIrC,OAAOE,OAAP,KAAmB,UAAvB,EAAmC;AAC/BmC,qBAAKC,IAAL,GAAYV,cAAcb,eAAd,CAAZ;AAEH,aAHD,MAGO,IAAIf,OAAOE,OAAP,KAAmB,OAAvB,EAAgC;AACnCmC,qBAAKC,IAAL,GAAYhB,EAAEiB,MAAF,CAAS5B,QAAT,EAAmB,UAAU6B,MAAV,EAAkB1D,OAAlB,EAA2BK,GAA3B,EAAgC;AAC3DqD,8BAAWrD,MAAM,CAAP,GAAY,IAAZ,GAAmByC,cAAc9C,OAAd,CAAnB,GAA4C,IAAtD;AACA,2BAAO0D,MAAP;AACH,iBAHW,EAGT,EAHS,CAAZ;AAKH;AACDH,iBAAKI,IAAL,GAAYzC,OAAOrB,IAAP,CAAYX,KAAZ,GAAoB,GAApB,GAA0BgC,OAAOpB,GAAP,CAAWZ,KAAjD;AACAvB,oBAAQwD,MAAR,CAAeoC,IAAf,EAAqBrC,MAArB;AACA,mBAAOqC,KAAKnC,OAAZ;AACA,mBAAOmC,KAAK1D,IAAZ;AACA,mBAAO0D,KAAKzD,GAAZ;AACA2B,kBAAMmC,IAAN,CAAWR,GAAX,EAAgBG,IAAhB,EACKM,OADL,CACa,UAAUC,QAAV,EAAoB;AACzBR,sBAAMS,OAAN,CAAcD,QAAd;AACH,aAHL,EAGO,UAAUE,GAAV,EAAe;AACdC,qBAAKhG,GAAL,CAAS+F,GAAT;AACH,aALL;;AAOA,mBAAOV,MAAMY,OAAb;AACH;;AAED,iBAAS7B,YAAT,CAAsBnB,MAAtB,EAA8B;AAC1B,gBAAIkC,MAAM5B,WAAWnD,cAAc8F,MAAnC;AACA,gBAAIb,QAAQ5B,GAAG4B,KAAH,EAAZ;AACA,gBAAIC,OAAO,EAAX;AACAA,iBAAKC,IAAL,GAAY,iBAAZ;AACAD,iBAAKI,IAAL,GAAYzC,OAAOrB,IAAP,CAAYX,KAAZ,GAAoB,GAApB,GAA0BgC,OAAOpB,GAAP,CAAWZ,KAAjD;AACAvB,oBAAQwD,MAAR,CAAeoC,IAAf,EAAqBrC,MAArB;AACA,mBAAOqC,KAAKnC,OAAZ;AACA,mBAAOmC,KAAK1D,IAAZ;AACA,mBAAO0D,KAAKzD,GAAZ;AACA2B,kBAAMmC,IAAN,CAAWR,GAAX,EAAgBG,IAAhB,EACKM,OADL,CACa,UAAUC,QAAV,EAAoB;AACzBR,sBAAMS,OAAN,CAAcD,QAAd;AACH,aAHL,EAGO,UAAUE,GAAV,EAAe;AACdC,qBAAKhG,GAAL,CAAS+F,GAAT;AACH,aALL;AAMA,mBAAOV,MAAMY,OAAb;AACH;;AAED,iBAAS5B,cAAT,CAAwBpB,MAAxB,EAAgC;AAC5B,gBAAIkC,MAAM5B,WAAWnD,cAAc+F,YAAnC;AACA,gBAAId,QAAQ5B,GAAG4B,KAAH,EAAZ;AACA7B,kBAAMmC,IAAN,CAAWR,GAAX,EAAgBlC,MAAhB,EACK2C,OADL,CACa,UAAUC,QAAV,EAAoB;AACzBR,sBAAMS,OAAN,CAAcD,QAAd;AACH,aAHL,EAGO,UAAUE,GAAV,EAAe;AACdC,qBAAKhG,GAAL,CAAS+F,GAAT;AACH,aALL;AAMA,mBAAOV,MAAMY,OAAb;AACH;AACJ;AACJ,CAvID;;;ACAA,CAAC,YAAM;AACN;;AACAvG,SAAQC,MAAR,CAAe,KAAf,EACO0D,OADP,CACe,eADf,EACgCC,OADhC;;AAGA,UAASA,OAAT,GAAmB;AAClB,MAAM8C,SAAS1G,QAAQwD,MAAR,CAAe,EAAf,EAAmB;AACjCmD,wBAAqB,sBADY;AAEjCC,oBAAiB,kBAFgB;AAGjCC,wBAAqB,kBAHY;AAIjCC,2BAAwB,mBAJS;AAKjCC,oBAAiB,cALgB;AAMjCC,iBAAc,gBANmB;AAOjCC,gBAAa,cAPoB;AAQjCC,gBAAa,cARoB;AASjCC,oBAAiB,kBATgB;AAUjCC,4BAAyB,eAVQ;AAWjCC,iBAAc,eAXmB;AAYxBC,uBAAoB,cAZI;AAaxBC,uBAAoB,qBAbI;AAcxBC,yBAAsB,2BAdE;AAexBC,yBAAsB,gCAfE;AAgBjCC,kBAAe,2BAhBkB;AAiBjCC,aAAU,WAjBuB;AAkBjCC,eAAY,aAlBqB;AAmBjCC,aAAU,CAnBuB;AAoBjCC,aAAU,KApBuB;AAqBjCC,eAAY,iBArBqB;AAsBjC5G,aAAU,CAtBuB;AAuBjCC,cAAW,EAvBsB;AAwBjCoF,WAAQ,cAxByB;AAyBjCd,cAAW,YAzBsB;AA0BjCe,iBAAc,eA1BmB;AA2BjCuB,kBAAe,gBA3BkB;AA4BjCC,oBAAiB,QA5BgB;AA6BjCC,oBAAiB,kBA7BgB;AA8BxBC,sBAAmB;;AA9BK,GAAnB,EAgCZC,OAAOC,iBAhCK,CAAf;AAiCA,SAAO3B,MAAP;AACA;AACD,CAzCD;;;ACAA,CAAC,YAAM;AACN;;AACA1G,SAAQC,MAAR,CAAe,KAAf,EACA0D,OADA,CACQ,eADR,EACyBC,OADzB;;AAGA,UAASA,OAAT,CAAiBrD,UAAjB,EAA6B;AAC5B,MAAI+H,SAAS,KAAb;AACA,MAAIC,QAAQ,EAAZ;;AAEA,MAAIC,WAAW,SAAXA,QAAW,CAASC,QAAT,EAAkB;AAChCH,YAASG,QAAT;AACAlI,cAAWmI,UAAX,CAAsB,2BAAtB;AACA,GAHD;;AAKA,MAAIC,WAAW,SAAXA,QAAW,GAAU;AACxB,UAAOL,MAAP;AACA,GAFD;;AAIA,MAAIM,WAAW,SAAXA,QAAW,CAASC,OAAT,EAAkB;AAChCN,WAAQM,OAAR;AACA,GAFD;AAGA,MAAIC,WAAW,SAAXA,QAAW,GAAU;AACxB,UAAOP,KAAP;AACA,GAFD;;AAIA,MAAM3E,UAAU;AACf+E,aAAUA,QADK;AAEfH,aAAUA,QAFK;AAGfM,aAAUA,QAHK;AAIfF,aAAUA;AAJK,GAAhB;;AAOA,SAAOhF,OAAP;AACA;AACD,CAlCD","file":"app.js","sourcesContent":["(() => {\n\tangular.module('app', [\n\t\t'LocalStorageModule',\n\t\t'ngDropdowns'\n\t])\n\t\t.constant('API_PATH', 'data/');\n})();\n","(() => {\n    angular.module('app')\n        .controller('CartCtrl', controller);\n\n    function controller(CartService) {\n        console.log('Cart ctrl');\n    }\n})();\n","(() => {\n    angular.module('app')\n        .controller('FeedbackCtrl', controller);\n\n    function controller() {\n        console.log('Feedback ctrl');\n    }\n})();","(() => {\n    angular.module('app')\n        .controller('MainCtrl', controller);\n\n    function controller($rootScope, $scope, CartService, DialogService, ConfigService) {\n        console.log('Main ctrl');\n        const self = this;\n        self.isHover = {};\n        self.currentTexture = {};\n        $scope.state = {\n            complete: false,\n            loading: false\n        };\n        $scope.hours = [];\n        for (let i = ConfigService.openHour; i < ConfigService.closeHour; i++) {\n            $scope.hours.push({\n                id: i,\n                label: ((i<10) ? ('0'+i) : i.toString()) + ' ч'\n            });\n        }\n        $scope.minutes = [];\n        for (let i = 0; i < 60; i+=15) {\n            $scope.minutes.push({\n                id: i,\n                label: ((i<10) ? ('0'+i) : i.toString()) + ' м'\n            });\n        }\n\n        $scope.$watch(() => {\n            return self.currentTexture;\n        }, () => {\n            self.texture = angular.fromJson(self.currentTexture);\n        }, true);\n\n        self.hoverIt = function(id, bValue){\n\t\t\tself.isHover[id] = bValue;\n        };\n\n        $scope.order = {\n            phone: '',\n            name: '',\n            hour: $scope.hours[0],\n            min: $scope.minutes[0]\n        };\n        \n        self.addProductToCart = product => {\n            // window.ga ('send', 'event', 'knopka_vkorzinu', 'vkorzinu');\n            product = angular.fromJson(product);\n            product.texture = angular.fromJson(self.currentTexture).model;\n            product.price = angular.fromJson(self.currentTexture).price;\n            console.log(product);\n            CartService.addProduct(product);\n        };\n\n        self.removeProduct = key => {\n            console.log('removeProduct');\n            CartService.removeProduct(key);\n            if (self.cartItems.length === 0) {\n                self.dropdownVisible = false;\n            }\n        };\n        \n        self.openSearch = () => {\n            self['is-search-open'] = true;\n            $rootScope.modalOpen = true;\n        }\n        \n        self.openOrder = () => {\n            self['is-order-open'] = true;\n            $rootScope.modalOpen = true;\n        }\n        \n        self.openFeedback = () => {\n            self['is-feedback-open'] = true;\n            $rootScope.modalOpen = true;\n        }\n\n        self.openCallme = () => {\n            $scope.state.complete = false;\n            $scope.state.loading = false;\n            $scope.order = {\n                phone: '',\n                name: '',\n                hour: $scope.hours[0],\n                min: $scope.minutes[0]\n            };\n            self['is-callme-open'] = true;\n            $rootScope.modalOpen = true;\n        };\n\n        self.closeDialogs = () => {\n            self['is-search-open'] = false;\n            self['is-feedback-open'] = false;\n            self['is-callme-open'] = false;\n            self['is-order-open'] = false;\n            $rootScope.modalOpen = false;\n        }\n\n        self.showDropdown = () => {\n\t\t\tself.dropdownVisible = true;\n\t\t};\n\n\t\tself.hideDropdown = () => {\n\t\t\tself.dropdownVisible = false;\n        };\n\n        self.callmeSubmit = () => {\n            var params = {};\n            $scope.state.loading = true;\n            angular.extend(params, {\n                context: $scope.context\n            }, $scope.order);\n            \n            console.log($scope.order);\n            $scope.state.complete = true;\n\n            // CartService.submitCallMe(params)\n            //     .then(function(data){\n            //         // window.ga('send', 'event', 'knopka_perezvonite', 'perezvonit');\n            //         $scope.state.loading = false;\n            //         $scope.state.complete = true;\n            //     }, function(err){\n            //         $scope.state.loading = false;\n            //     });\n        };\n\n        self.cartItems = CartService.getProducts();\n    }\n})();","(() => {\n    angular.module('app')\n        .controller('OrderCtrl', controller);\n\n    function controller() {\n        console.log('Order ctrl');\n    }\n})();","(() => {\n    angular.module('app')\n        .controller('ProductCtrl', controller);\n\n    function controller() {\n        console.log('Product ctrl');\n    }\n})();","(() => {\n    angular.module('app')\n        .controller('SearchCtrl', controller);\n\n    function controller() {\n        console.log('Search ctrl');\n    }\n})();","(() => {\n    'use strict';\n    angular.module('app').\n        factory('CartService', service);\n\n    function service($rootScope, API_PATH, $http, $q, $interpolate, localStorageService, ConfigService) {\n        var products = JSON.parse(localStorageService.get('cart_products')) || [];\n        var oneClickProduct = {};\n        var service = {\n            addProduct: addProduct,\n            removeProduct: removeProduct,\n            getProducts: getProducts,\n            getOneClick: getOneClick,\n            addOneClick: addOneClick,\n            submitOrder: submitOrder,\n            submitCallMe: submitCallMe,\n            submitFeedback: submitFeedback\n        };\n        return service;\n\n        function addProduct(product) {\n            var clone = _.cloneDeep(product);\n            products.push(clone);\n            localStorageService.set('cart_products', JSON.stringify(products));\n        }\n\n        function removeProduct(idx) {\n            products.splice(idx, 1);\n            localStorageService.set('cart_products', JSON.stringify(products));\n        }\n\n        function getProducts() {\n            return products;\n        }\n\n        function addOneClick(product) {\n            oneClickProduct = _.cloneDeep(product);\n        }\n\n        function getOneClick() {\n            return oneClickProduct;\n        }\n\n\n\n        function formatProduct(product) {\n            if (!!product.allowHeight && product.dimensions) {\n                return $interpolate('{{product.title}}' +\n                    (product.texture ? \" модель {{product.texture}}\" : \" \") +\n                    ((!!product.dimensions.width && !!product.dimensions.height) ?\n                        \" ({{product.dimensions.width}} cм x {{product.dimensions.height}} cм)\" : \"\") +\n                    (product.withCornice ? \" + {{product.cornice.cartText}}\" : \"\")\n                )({\n                    product: product\n                });\n            } else if (!product.allowHeight && product.dimensions) {\n                return $interpolate('{{product.title}}' +\n                    (product.texture ? \" модель {{product.texture}}\" : \" \") +\n                    ((!!product.dimensions.width) ?\n                        \" ({{product.dimensions.width}} см)\" : \"\") +\n                    (product.withCornice ? \" + {{product.cornice.cartText}}\" : \"\")\n                )({\n                    product: product\n                });\n            } else {\n                return $interpolate('{{product.title}}' +\n                    (product.texture ? \" модель {{product.texture}}\" : \" \") +\n                    (product.withCornice ? \" + {{product.cornice.cartText}}\" : \"\")\n                )({\n                    product: product\n                });\n            }\n\n        };\n\n        function submitOrder(params) {\n            var url = API_PATH + ConfigService.orderPath;\n            var defer = $q.defer();\n            var data = {};\n            if (params.context === 'oneclick') {\n                data.text = formatProduct(oneClickProduct);\n\n            } else if (params.context === 'order') {\n                data.text = _.reduce(products, function (result, product, key) {\n                    result += (key + 1) + '. ' + formatProduct(product) + '\\n';\n                    return result;\n                }, '');\n\n            }\n            data.time = params.hour.label + ' ' + params.min.label;\n            angular.extend(data, params);\n            delete data.context;\n            delete data.hour;\n            delete data.min;\n            $http.post(url, data)\n                .success(function (response) {\n                    defer.resolve(response);\n                }, function (err) {\n                    $log.log(err);\n                });\n\n            return defer.promise;\n        };\n\n        function submitCallMe(params) {\n            var url = API_PATH + ConfigService.callMe;\n            var defer = $q.defer();\n            var data = {};\n            data.text = 'Перезвоните мне';\n            data.time = params.hour.label + ' ' + params.min.label;\n            angular.extend(data, params);\n            delete data.context;\n            delete data.hour;\n            delete data.min;\n            $http.post(url, data)\n                .success(function (response) {\n                    defer.resolve(response);\n                }, function (err) {\n                    $log.log(err);\n                });\n            return defer.promise;\n        };\n\n        function submitFeedback(params) {\n            var url = API_PATH + ConfigService.feedbackPath;\n            var defer = $q.defer();\n            $http.post(url, params)\n                .success(function (response) {\n                    defer.resolve(response);\n                }, function (err) {\n                    $log.log(err);\n                });\n            return defer.promise;\n        };\n    }\n})();","(() => {\n\t'use strict';\n\tangular.module('app').\n        factory('ConfigService', service);\n\n\tfunction service() {\n\t\tconst config = angular.extend({}, {\n\t\t\tfeaturedProductPath: 'featuredProduct.json',\n\t\t\tproductListPath: 'productList.json',\n\t\t\tproductHomeListPath: 'productList.json',\n\t\t\tproductSeeAlsoListPath: 'similarGoods.json',\n\t\t\tproductPagePath: 'product.json',\n\t\t\tquestionPath: 'questions.json',\n\t\t\tarticlePath: 'article.json',\n\t\t\tcatalogPath: 'catalog.json',\n\t\t\tcatalogRootPath: 'catalogList.json',\n\t\t\tconstructorTexturesPath: 'textures.json',\n\t\t\ttexturesPath: 'textures.json',\n            reviewsProductPath: 'reviews.json',\n            reviewsArticlePath: 'articleReviews.json',\n            newProductReviewPath: 'review-post-response.json',\n            newArticleReviewPath: 'articleReviewPostResponse.json',\n\t\t\tnewReviewPath: 'review-post-response.json',\n\t\t\tnewsPath: 'news.json',\n\t\t\tsearchPath: 'search.json',\n\t\t\tminPrice: 0,\n\t\t\tmaxPrice: 99999,\n\t\t\tserverTime: 'serverTime.json',\n\t\t\topenHour: 9,\n\t\t\tcloseHour: 21,\n\t\t\tcallMe: 'call-me.json',\n\t\t\torderPath: 'order.json',\n\t\t\tfeedbackPath: 'feedback.json',\n\t\t\tstructurePath: 'structure.json',\n\t\t\thomeArticleSlug: 'trends',\n\t\t\thomeArticlePath: 'mainPageAds.json',\n            pastProductsCount: 4,\n\t\t\t\n\t\t}, window.appLicationConfig);\n\t\treturn config;\n\t}\n})();\n","(() => {\n\t'use strict';\n\tangular.module('app').\n\tfactory('DialogService', service);\n\n\tfunction service($rootScope) {\n\t\tlet opened = false;\n\t\tlet image = '';\n\n\t\tlet setState = function(newState){\n\t\t\topened = newState;\n\t\t\t$rootScope.$broadcast('DialogService.updateState');\n\t\t};\n\n\t\tlet getState = function(){\n\t\t\treturn opened;\n\t\t};\n\n\t\tlet setImage = function(picture) {\n\t\t\timage = picture;\n\t\t}\n\t\tlet getImage = function(){\n\t\t\treturn image;\n\t\t};\n\n\t\tconst service = {\n\t\t\tgetState: getState,\n\t\t\tsetState: setState,\n\t\t\tgetImage: getImage,\n\t\t\tsetImage: setImage\n\t\t};\n\n\t\treturn service;\n\t}\n})();\n"],"sourceRoot":"/source/"}